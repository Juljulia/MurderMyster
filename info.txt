Murder
Indoor Swimming Pool
Action: drowning
witnesses: 2



Murder descriprion:

"A crime has taken place and the detective needs your help. The detective gave you the crime scene report, but your cat ate it. You vaguely remember that the crime was a murder that occurred sometime on Friday 24th of April, 2019 and that it took place in Waterloo City. All the clues to this mystery are buried in a huge database, and you need to use SQL to navigate through this vast network of information. Your first step to solving the mystery is to retrieve the corresponding crime scene report from the police departmentâ€™s database."


Tables:
- person
	- id
	- name
	- address_number
	- address_street_name

- swimming_pool_check_in
	- membership_id
	- check_in_date
	- check_in_time
	- check_out_time

- crime_scene_report
	- date
	- type
	- description
	- city

- interview
	- person_id
	- transcript

- swimming_pool_member
	- id
	- person_id
	- name
	- swimming_badge



____________________________________



clue 1:
	- crime_scene_report
		- date
		- type
		- city

	SELECT * FROM crime_scene_report WHERE type = "Murder" AND date = 20190424 AND city = "Waterloo City";

clue 2:
	- crime_scene_report > description

	Security footage shows that there were 2 witnesses. 
	The first witness lives at the adress that starts with "Baddare" and ends with the number 144. // 280	"Mathew Folbigg"	144	"Baddaregatan"
	The second witness, named "Gordon", lives somewhere on "Octopus Street". //160	"Gordon Freeman"	33	"Octopus Street"

	- person	
		- adress_number
		- adress_street_name
		- name

	SELECT * FROM person WHERE adress_street_name LIKE "Baddare%" AND address_number = 144;
	SELECT * FROM person WHERE adress_street_name = "Octopus Street" AND name LIKE "%Gordon%";

	// Get the id from the interview person and go to the table interview => person_id

clue 3: - interview > transcript

	person1 : I heard loud splashes and then saw a man run out. He had a swimming suit covered in at least 10 swimming badges. I recognised one of the badges which was the 50-miles badge. 

	- swimming_pool_member 
		-swimming_badge 
		-id
	

	person2 / Gordon Freeman : I saw the murder happen, and I recognised the killer from before when I was working last week on April 12th. The person has been here at the same time three times this week since Monday. The murder took place around 21.00.  
	
	- swimming_pool_check_in
		-check_in_date
		-check_in_time
		-check_out_time

	SELECT * FROM swimming_pool_member 
	INNER JOIN swimming_pool_check_in
	ON swimming_pool_member.id = swimming_pool_check_in.membership_id
	WHERE check_in_date >= 20190420 AND <= 20190424 AND check_in_time > 2030 AND 2130 < check_out_time
	AND swimming_badge = '50miles'
	GROUP BY person_id;

alt. WHERE SUM(swimming_badge) > 10; 
	
